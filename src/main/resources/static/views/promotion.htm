<div ng-cloak>
    <div class="inner-container col-xs-12 river-race-background">
        <div ng-controller="promotionController">

            <div class="row clan-header"><h1>Performance and Promotions</h1></div>

            <div style="position:relative">
                <loading-directive loading="loading"/>
                <div class="table-responsive halfscreen">
                    <table class="halfscreen table table-striped war-table">
                        <thead>
                        <tr>
                            <th><span ng-click=triggerOrderDirective($event)>
                                <order-directive bind-to="name" filter-by="filter">Player</order-directive></span>
                            </th>
                            <th><span ng-click=triggerOrderDirective($event)>
                                <order-directive bind-to="role" filter-by="filter"
                                                 comparator="roleOrder">Role</order-directive></span>
                            </th>
                            <th><span ng-click=triggerOrderDirective($event)>
                                <order-directive bind-to="daysInClan" filter-by="filter">Days in Clan</order-directive></span>
                            </th>
                            <th><span ng-click=triggerOrderDirective($event)>
                                <order-directive bind-to="promotionPoints"
                                                 filter-by="filter">Points</order-directive></span>
                            </th>
                            <th><span>Latest Performance</span></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="s in stats | orderBy: filter.orderBy: false : filter.comparator">
                            <td class="alternative-font">
                                <a ng-click="next()" ng-href="view/riverRace/player/{{s.tag}}">
                                    <span>{{s.name}}</span>
                                </a>
                            </td>
                            <td>{{s.role}}</td>
                            <td>{{s.daysInClanAtEndOfRace}}</td>
                            <td>
                                <div ng-if="s.promotionPoints > 0">
                                    <img ng-repeat="x in [].constructor(min(s.promotionPoints)) track by $index"
                                         style="display:inline; width:15px"
                                         src="https://res.cloudinary.com/dmoqikv5o/image/upload/v1592489053/win_mid_qjwssm.png">
                                </div>
                                <div ng-if="s.promotionPoints < 0">
                                    <img ng-repeat="x in [].constructor(min(-s.promotionPoints)) track by $index"
                                         style="display:inline; width:15px"
                                         src="https://res.cloudinary.com/dmoqikv5o/image/upload/v1592489053/forfeit_mid_fe6gzo.png">
                                </div>

                            </td>
                            <td ng-style="colorfy(s.latestScore, 'riverrace')">{{s.latestScore}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>